<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:math="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink">

<!-- Mirrored from www.allegro.cc/manual/5/al_grab_font_from_bitmap by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 26 Jun 2022 21:28:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<title>al_grab_font_from_bitmap - Allegro 5 Manual</title>
<link rel="stylesheet" type="text/css" media="screen, projection" href="manual.css" /> 
<script type="text/javascript" src="http://djungxnpq2nug.cloudfront.net/js/prototype.js"></script>
<script type="text/javascript" src="http://djungxnpq2nug.cloudfront.net/js/jquery-1.5.1.min.js"></script>
<style type="text/css">
#examples p.names { font-size: 75%; }

.snippet, .terminal {
	font-size: 13px;
	font-family: monospace;
	line-height: 1.2;
	width: 95%;
	white-space: pre;
	overflow: auto;
}

.snippet code {
	font-family: monospace;
	font-size: 13px;
	line-height: 1.2;
	white-space: normal;
}

div.source-code div.inner, pre.source-code, .terminal.scroll {
	background-color: #fff;
	border-bottom: solid #999 1px;
	border-left: solid #ccc 1px;
	border-right: solid #999 1px;
	border-top: solid #ccc 1px;
	font-family: monospace;
	line-height: 1.2;
	white-space: pre;
	max-height: 400px;
	overflow: auto;
}

span.source-code,
.source-code pre {
	font-family: monospace;
	font-size: 12px;
	line-height: 1.2;
	white-space: pre;
}

div.mockup div.source-code {
	xwidth: 600px;
}

div.mockup div.source-code.snippet div.inner,
div.mockup div.source-code.snippet div.inner td {
	border: none;
	background-color: transparent !important;
}

div.mockup div.source-code div.inner.fullsize {
	max-height: none;
}

div.mockup div.source-code div.toolbar {
	background-color: #eee;
	border-top: solid #ccc 1px;
	border-left: solid #ccc 1px;
	border-right: solid #999 1px;
	font-family: Tahoma, sans-serif;
	font-size: 11px;
	padding: 4px;
}

div.mockup div.source-code div.toolbar span.name {
	font-weight: bold;
	margin-right: 16px;
}

div.mockup div.source-code div.toolbar span.button {
	border: solid #eee 1px;
	cursor: pointer;
	padding: 1px 4px;
	margin-right: 2px;
}

div.mockup div.source-code div.toolbar span.button.enabled {
	background-color: #ddd;
	border-top: solid #fff 1px;
	border-left: solid #fff 1px;
	border-right: solid #999 1px;
	border-bottom: solid #999 1px;
}

div.mockup div.source-code div.highlight {
	background-color: #ffa !important;
}

div.mockup div.source-code span.number {
	background-color: #eee !important;
	border-right: #999 solid 1px !important;
	text-align: right;
	padding: 0 0.5em;
	margin: 0 1em 0 0;
	width: 40px;
}

div.mockup div.source-code div.highlight span.number {
	background-color: #ccc !important;
	font-weight: bold;
}

div.mockup div.source-code div.inner {
	margin: 0;
	padding: 0;
	font-family: monospace;
	font-size: 12px;
	line-height: 1.2;
}

</style>
<script type="text/javascript">
var $j = $.noConflict();
var codecache = {};
$j(function()
{
  $j("#examples a").click(function()
  {
    var ex = $j(this).html();
    if (codecache[ex])
      show_code(codecache[ex]);
    else
      $j.getJSON('/dhtml/get-example.rpc/' + ex, function(json)
      {
        codecache[ex] = json;
        show_code(json);
      });
  });
});

function show_code(code)
{
  $j("#example-code").html($j('<input type="button" value="Hide" style="margin-bottom: 8px;" />').click(function()
  {
    $j(this).closest('div').hide();
  })).append(code).show();
  attachGlobalEvents($("examples"));
};
</script>
<script type="text/javascript" src="http://djungxnpq2nug.cloudfront.net/js/general.js"></script>

</head>
<body>
<div id="sidebar">
<p class="site"><a href="https://www.allegro.cc/">allegro.cc</a></p>
<h1><a href="index.html">Manual</a></h1>
<h2><a href="font.html">Font addons</a></h2>
		<ul><li><span>General font routines</span><ul><li><a href="https://www.allegro.cc/manual/5/allegro_font">ALLEGRO_FONT</a></li><li><a href="al_init_font_addon.html">al_init_font_addon</a></li><li><a href="al_shutdown_font_addon.html">al_shutdown_font_addon</a></li><li><a href="al_load_font.html">al_load_font</a></li><li><a href="al_destroy_font.html">al_destroy_font</a></li><li><a href="al_register_font_loader.html">al_register_font_loader</a></li><li><a href="al_get_font_line_height.html">al_get_font_line_height</a></li><li><a href="al_get_font_ascent.html">al_get_font_ascent</a></li><li><a href="al_get_font_descent.html">al_get_font_descent</a></li><li><a href="al_get_text_width.html">al_get_text_width</a></li><li><a href="al_get_ustr_width.html">al_get_ustr_width</a></li><li><a href="al_draw_text.html">al_draw_text</a></li><li><a href="al_draw_ustr.html">al_draw_ustr</a></li><li><a href="al_draw_justified_text.html">al_draw_justified_text</a></li><li><a href="al_draw_justified_ustr.html">al_draw_justified_ustr</a></li><li><a href="al_draw_textf.html">al_draw_textf</a></li><li><a href="al_draw_justified_textf.html">al_draw_justified_textf</a></li><li><a href="al_get_text_dimensions.html">al_get_text_dimensions</a></li><li><a href="al_get_ustr_dimensions.html">al_get_ustr_dimensions</a></li><li><a href="al_get_allegro_font_version.html">al_get_allegro_font_version</a></li></ul></li><li><span>Bitmap fonts</span><ul><li><a href="al_grab_font_from_bitmap.html">al_grab_font_from_bitmap</a></li><li><a href="al_load_bitmap_font.html">al_load_bitmap_font</a></li></ul></li><li><span>TTF fonts</span><ul><li><a href="al_init_ttf_addon.html">al_init_ttf_addon</a></li><li><a href="al_shutdown_ttf_addon.html">al_shutdown_ttf_addon</a></li><li><a href="al_load_ttf_font.html">al_load_ttf_font</a></li><li><a href="al_load_ttf_font_f.html">al_load_ttf_font_f</a></li><li><a href="al_get_allegro_ttf_version.html">al_get_allegro_ttf_version</a></li></ul></li></ul></div>
<div id="content">
<h1 class="title">al_grab_font_from_bitmap</h1>
<code><pre><a href="https://www.allegro.cc/manual/ALLEGRO_FONT"><span class="a">ALLEGRO_FONT</span></a> <span class="k3">*</span><a href="https://www.allegro.cc/manual/al_grab_font_from_bitmap"><span class="a">al_grab_font_from_bitmap</span></a><span class="k2">(</span><a href="https://www.allegro.cc/manual/ALLEGRO_BITMAP"><span class="a">ALLEGRO_BITMAP</span></a> <span class="k3">*</span>bmp,
   <span class="k1">int</span> ranges_n, <span class="k1">int</span> ranges<span class="k2">[</span><span class="k2">]</span><span class="k2">)</span></pre></code>
<small>Introduced in <b>5.0.0</b></small>


<p>Creates a new font from an Allegro bitmap. You can delete the bitmap after the function returns as the font will contain a copy for itself.</p><p>Parameters:</p><ul><li>bmp: The bitmap with the glyphs drawn onto it</li><li>n: Number of unicode ranges in the bitmap.</li><li>ranges: 'n' pairs of first and last unicode point to map glyphs to for each range.</li></ul><p>The bitmap format is as in the following example, which contains three glyphs for 1, 2 and 3.</p><pre><code>.............
. <span class="n">1</span> .<span class="n">222</span>.<span class="n">333</span>.
. <span class="n">1</span> .  <span class="n">2</span>.  <span class="n">3</span>.
. <span class="n">1</span> .<span class="n">222</span>.<span class="n">333</span>.
. <span class="n">1</span> .<span class="n">2</span>  .  <span class="n">3</span>.
. <span class="n">1</span> .<span class="n">222</span>.<span class="n">333</span>.
.............</code></pre><p>In the above illustration, the dot is for pixels having the background color. It is determined by the color of the top left pixel in the bitmap. There should be a border of at least 1 pixel with this color to the bitmap edge and between all glyphs.</p><p>Each glyph is inside a rectangle of pixels not containing the background color. The height of all glyph rectangles should be the same, but the width can vary.</p><p>The placement of the rectangles does not matter, except that glyphs are scanned from left to right and top to bottom to match them to the specified unicode codepoints.</p><p>The glyphs will simply be drawn using <a href="al_draw_bitmap.html">al_draw_bitmap</a>, so usually you will want the rectangles filled with full transparency and the glyphs drawn in opaque white.</p><p>Examples:</p><pre><code><span class="k1">int</span> ranges<span class="k2">[</span><span class="k2">]</span> <span class="k3">=</span> <span class="k2">{</span><span class="n">32</span>, <span class="n">126</span><span class="k2">}</span><span class="k2">;</span>
<a href="https://www.allegro.cc/manual/al_grab_font_from_bitmap"><span class="a">al_grab_font_from_bitmap</span></a><span class="k2">(</span>bitmap, <span class="n">1</span>, ranges<span class="k2">)</span>

<span class="k1">int</span> ranges<span class="k2">[</span><span class="k2">]</span> <span class="k3">=</span> <span class="k2">{</span>
    <span class="n">0x0020</span>, <span class="n">0x007F</span>,  <span class="c">/* ASCII */</span>
    <span class="n">0x00A1</span>, <span class="n">0x00FF</span>,  <span class="c">/* Latin 1 */</span>
    <span class="n">0x0100</span>, <span class="n">0x017F</span>,  <span class="c">/* Extended-A */</span>
    <span class="n">0x20AC</span>, <span class="n">0x20AC</span><span class="k2">}</span><span class="k2">;</span> <span class="c">/* Euro */</span>
<a href="https://www.allegro.cc/manual/al_grab_font_from_bitmap"><span class="a">al_grab_font_from_bitmap</span></a><span class="k2">(</span>bitmap, <span class="n">4</span>, ranges<span class="k2">)</span></code></pre><p>The first example will grab glyphs for the 95 standard printable ASCII characters, beginning with the space character (32) and ending with the tilde character (126). The second example will map the first 96 glyphs found in the bitmap to ASCII range, the next 95 glyphs to Latin 1, the next 128 glyphs to Extended-A, and the last glyph to the Euro character. (This is just the characters found in the Allegro 4 font.)</p><p>See also: <a href="al_load_bitmap.html">al_load_bitmap</a>, <a href="al_grab_font_from_bitmap.html">al_grab_font_from_bitmap</a></p>
<div id="examples">
<p class="names">Examples: <a href="#" onclick="return false;">ex_font</a></p>

<div id="example-code" style="display: none">
</div>

</div>

<hr />

<p><i>Most helpful discussions:</i></p>


<ul>
	<li>
		<a href="https://www.allegro.cc/forums/thread/615689">al_load_bitmap</a>
		(1)			</li>
	<li>
		<a href="https://www.allegro.cc/forums/thread/612419">Draw Font from &amp;quot;Font Sheet&amp;quot;</a>
		(1)			</li>
	<li>
		<a href="https://www.allegro.cc/forums/thread/610576">Just sharing DOS bitmap font.</a>
		(1)			</li>
	<li>
		<a href="https://www.allegro.cc/forums/thread/618144">Bringing modern game engines up to speed with Allegro</a>
					</li>
	<li>
		<a href="https://www.allegro.cc/forums/thread/618039">2D Isometric Game extreme lag.</a>
					</li>
	<li>
		<a href="https://www.allegro.cc/forums/thread/617697">Bitmap Font doesn&amp;#39;t draw any character after try to write a not defined char</a>
					</li>
	<li>
		<a href="https://www.allegro.cc/forums/thread/617678">Can I Draw Scaled Text?</a>
					</li>
	<li>
		<a href="https://www.allegro.cc/forums/thread/617323">VS 2017 Release &amp;amp; Allegro bitmaps</a>
					</li>
	<li>
		<a href="https://www.allegro.cc/forums/thread/616017">Failed to get bitmap font with alx wrapper for Allegro 5</a>
					</li>
	<li>
		<a href="https://www.allegro.cc/forums/thread/609446">Problem writing text with al_draw_text</a>
					</li>
</ul>

<p><i>Other recent discussions:</i></p>
<ul>
	<li>
		<a href="https://www.allegro.cc/forums/thread/608819">Reusing bitmaps after creating a new display</a>
					</li>
	<li>
		<a href="https://www.allegro.cc/forums/thread/608345">Allegro5 al_load_font_f ?</a>
					</li>
	<li>
		<a href="https://www.allegro.cc/forums/thread/605972">Allegro.pas - Problems with Using a Bitmap Font</a>
					</li>
	<li>
		<a href="https://www.allegro.cc/forums/thread/605838">al_grab_font_from_bitmap() Documentation Error</a>
					</li>
</ul>



</div>



</body>

<!-- Mirrored from www.allegro.cc/manual/5/al_grab_font_from_bitmap by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 26 Jun 2022 21:28:16 GMT -->
</html>
